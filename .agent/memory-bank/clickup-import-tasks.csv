Task ID,Task Name (EN),Task Name (AR),Description (EN),Description (AR),Phase,Est. Time (min),Priority,Status
T047,Create Release Affiliate Commissions Command,إنشاء أمر إطلاق عمولات التسويق بالعمولة,"Create artisan command 'affiliate:release-commissions' that calls AffiliateService::releaseCommissions(). Output: Released {count} commissions. Run daily via scheduler.","إنشاء أمر Artisan لإطلاق العمولات المعلقة عند وصول تاريخ الإتاحة. يُشغّل يومياً عبر المجدول.",Phase 7 - Affiliate,45,High,Complete
T048,Create Pricing Tables Migration,إنشاء ترحيل جداول التسعير,"Create migration for supported_currencies and subscription_plan_prices. Unique on (plan_id, country_code).","إنشاء ترحيل لجداول العملات المدعومة وأسعار الباقات حسب الدولة.",Phase 8 - Pricing,45,High,Complete
T049,Create Pricing Models,إنشاء نماذج التسعير,"Create SupportedCurrency and SubscriptionPlanPrice models. Add countryPrices() hasMany to SubscriptionPlan.","إنشاء نماذج SupportedCurrency و SubscriptionPlanPrice مع العلاقات.",Phase 8 - Pricing,60,High,Complete
T050,Create PricingService,إنشاء خدمة التسعير,"Create PricingService with getPriceForCountry(), detectUserCountry(), convertToEgp(). Use GeoLocationService for IP detection.","إنشاء خدمة التسعير مع كشف الدولة وتحويل العملات.",Phase 8 - Pricing,90,High,Complete
T051,Modify Subscription API for Localized Prices,تعديل واجهة الباقات للأسعار المحلية,"In getPlans() detect country and return display_price, display_currency, display_symbol per plan using PricingService.","تعديل API الباقات لإرجاع الأسعار بعملة المستخدم المحلية.",Phase 8 - Pricing,60,High,To Do
T052,Create SupportedCurrencySeeder,إنشاء بذار العملات المدعومة,"Seed EG (EGP), SA (SAR), AE (AED), US (USD) with initial exchange rates. Admin can update later.","إنشاء بذار للعملات: مصر، السعودية، الإمارات، أمريكا.",Phase 8 - Pricing,45,High,To Do
T053,Add Admin UI for Country Pricing,إضافة واجهة تسعير الدول للباقات,"On plan edit page add 'Country Prices' section with table: country, currency, price input. Save via AJAX.","إضافة قسم أسعار الدول في صفحة تعديل الباقة.",Phase 8 - Pricing,120,High,To Do
T054,Run Pricing Migrations and Seeder,تشغيل ترحيلات وبذار التسعير,"Execute php artisan migrate and db:seed for pricing tables.","تشغيل ترحيلات وبذار جداول التسعير.",Phase 8 - Pricing,15,High,To Do
T055,Create KashierCheckoutService,إنشاء خدمة دفع Kashier,"Implement PaymentGatewayContract. Methods: createCheckoutSession(), verifyPayment(), getPaymentStatus(). Use settings: kashier_merchant_id, kashier_api_key, kashier_webhook_secret.","إنشاء خدمة دفع Kashier مع إنشاء جلسة الدفع والتحقق من الويب هوك.",Phase 9 - Kashier,150,High,To Do
T056,Register Kashier in PaymentFactory,تسجيل Kashier في مصنع الدفع,"Add case 'kashier' in PaymentFactory to return KashierCheckoutService instance.","إضافة Kashier في PaymentFactory.",Phase 9 - Kashier,30,High,To Do
T057,Create Kashier Webhook Handler,إنشاء معالج ويب هوك Kashier,"Create KashierController::handleWebhook() - verify signature, process payment, activate subscription, create SubscriptionPayment. Route: POST /webhooks/kashier.","إنشاء معالج ويب هوك للتحقق من الدفع وتفعيل الاشتراك.",Phase 9 - Kashier,120,High,To Do
T058,Add Kashier Settings to Admin,إضافة إعدادات Kashier للأدمن,"Add kashier_merchant_id, kashier_api_key, kashier_webhook_secret, kashier_mode to SettingsController and settings view.","إضافة حقول إعدادات Kashier في لوحة التحكم.",Phase 9 - Kashier,60,High,To Do
T059,Modify Subscription Flow for Kashier,تعديل تدفق الاشتراك لاستخدام Kashier,"In subscribe(): check wallet first, deduct, then create Kashier checkout for remainder. Add walletAndGatewayPayment() logic.","دمج محفظة المستخدم مع Kashier للدفع الكامل أو الجزئي.",Phase 9 - Kashier,120,High,To Do
T060,Register Kashier Webhook Route,تسجيل مسار ويب هوك Kashier,"Add POST /webhooks/kashier route. Exclude from CSRF middleware.","تسجيل مسار ويب هوك Kashier واستثناؤه من CSRF.",Phase 9 - Kashier,15,High,To Do
T061,Update Permission Seeder for Supervisor Role,تحديث بذار الصلاحيات لدور المشرف,"Add permissions: manage_accounts, manage_courses, upload_courses, manage_subscriptions, manage_finances, approve_comments, approve_ratings, manage_affiliates, manage_settings, manage_plans, view_reports. Create Supervisor (مشرف) role.","إضافة صلاحيات جديدة ودور المشرف في البذار.",Phase 10 - Supervisor,60,High,To Do
T062,Rename Instructor to Supervisor in UI,إعادة تسمية المدرب إلى المشرف في الواجهة,"Update sidebar, instructor views, InstructorController page titles. Change 'Instructors' to 'Supervisors' / 'المشرفين'. Keep DB/route names.","تحديث النصوص في الواجهة من المدرب إلى المشرف.",Phase 10 - Supervisor,45,High,To Do
T063,Create Admin UI for Role Permission Assignment,إنشاء واجهة تعيين الصلاحيات,"Add permission checkboxes in staff/user edit view. Save via Spatie assignRole() and givePermissionTo().","إضافة واجهة تعيين الصلاحيات عند تعديل المشرف.",Phase 10 - Supervisor,90,High,To Do
T064,Add Permission Checks to Admin Controllers,إضافة فحوصات الصلاحيات للمتحكمات,"Add middleware/can checks: CoursesController→manage_courses, UserController→manage_accounts, WalletController→manage_finances, etc.","إضافة فحص الصلاحيات في متحكمات الأدمن.",Phase 10 - Supervisor,60,High,To Do
T065,Run Permissions Seeder,تشغيل بذار الصلاحيات,"Execute php artisan db:seed --class=RolePermissionSeeder.","تشغيل بذار الصلاحيات والأدوار.",Phase 10 - Supervisor,15,High,To Do
T066,Create Approval Fields Migration,إنشاء ترحيل حقول الموافقة,"Add to ratings: status (pending/approved/rejected), reviewed_by, reviewed_at. Same for course_discussions table.","إضافة حقول الموافقة لجدولي التقييمات والمناقشات.",Phase 11 - Approval,45,High,To Do
T067,Update Rating Model for Approval,تحديث نموذج التقييم للموافقة,"Add status, reviewed_by, reviewed_at to fillable. Add scopeApproved() and scopePending() scopes.","تحديث نموذج Rating بحقول الموافقة والنطاقات.",Phase 11 - Approval,30,High,To Do
T068,Update CourseDiscussion Model for Approval,تحديث نموذج المناقشة للموافقة,"Same as Rating: add status, reviewed_by, reviewed_at; scopes approved/pending.","تحديث نموذج CourseDiscussion بحقول الموافقة.",Phase 11 - Approval,30,High,To Do
T069,Modify Public API to Filter by Approval,تعديل API العام لتصفية حسب الموافقة,"In RatingApiController and CourseDiscussionApiController: when feature flag enabled, filter by ->approved(). New submissions default to pending.","تصفية التقييمات والمناقشات حسب الموافقة عند تفعيل الميزة.",Phase 11 - Approval,60,High,To Do
T070,Create Admin ApprovalController,إنشاء متحكم موافقة الأدمن,"Methods: pendingRatings(), approveRating(), rejectRating(), pendingComments(), approveComment(), rejectComment().","إنشاء متحكم لإدارة الموافقة على التقييمات والمناقشات.",Phase 11 - Approval,90,High,To Do
T071,Register Approval Admin Routes,تسجيل مسارات موافقة الأدمن,"Routes: GET/POST /api/admin/reviews/pending, approve, reject. Same for comments. Permission: approve_comments, approve_ratings.","تسجيل مسارات API للموافقة على التقييمات والتعليقات.",Phase 11 - Approval,30,High,To Do
T072,Create Admin Approval UI,إنشاء واجهة موافقة الأدمن,"Create admin/approvals/index.blade.php with tabs for Ratings and Comments. Approve/Reject buttons. Sidebar link.","إنشاء صفحة الموافقة مع تبويبات للتقييمات والتعليقات.",Phase 11 - Approval,90,High,To Do
T073,Run Approval Migration,تشغيل ترحيل الموافقة,"Execute php artisan migrate for approval fields.","تشغيل ترحيل حقول الموافقة.",Phase 11 - Approval,15,High,To Do
T074,Create Marketing Pixels Table Migration,إنشاء ترحيل جدول بكسل التسويق,"Table marketing_pixels: platform (enum), pixel_id, is_active, additional_config. Unique on platform. Platforms: hotjar, microsoft_clarity, google_tag_manager, facebook, tiktok, snapchat, instagram.","إنشاء جدول بكسل التسويق للربط مع منصات التحليلات.",Phase 12 - Marketing,30,Medium,To Do
T075,Create MarketingPixel Model,إنشاء نموذج بكسل التسويق,"Fillable: platform, pixel_id, is_active, additional_config. Scope: scopeActive().","إنشاء نموذج MarketingPixel مع النطاقات.",Phase 12 - Marketing,30,Medium,To Do
T076,Create Admin MarketingPixelController,إنشاء متحكم بكسل التسويق للأدمن,"Methods: index(), store(), destroy(). Validate platform and pixel_id. updateOrCreate by platform.","إنشاء متحكم إدارة بكسل التسويق.",Phase 12 - Marketing,60,Medium,To Do
T077,Create Public API for Active Pixels,إنشاء API عام للبكسل النشط,"getActivePixels() returns MarketingPixel::active(). Cache 60 seconds. No auth required.","إنشاء API لإرجاع البكسل النشط مع التخزين المؤقت.",Phase 12 - Marketing,45,Medium,To Do
T078,Register Marketing Pixel Routes,تسجيل مسارات بكسل التسويق,"Admin: GET/POST/DELETE /marketing-pixels. Public: GET /api/marketing-pixels/active.","تسجيل مسارات إدارة وعرض البكسل.",Phase 12 - Marketing,30,Medium,To Do
T079,Create Admin Marketing Pixels View,إنشاء واجهة إدارة البكسل,"Table with Platform, Pixel ID, Status toggle, Delete. Form: platform dropdown, pixel_id input. Sidebar link.","إنشاء صفحة إدارة بكسل التسويق في لوحة التحكم.",Phase 12 - Marketing,90,Medium,To Do
T080,Run Marketing Pixels Migration,تشغيل ترحيل بكسل التسويق,"Execute php artisan migrate for marketing_pixels table.","تشغيل ترحيل جدول البكسل.",Phase 12 - Marketing,15,Medium,To Do
T081,Extend SubscriptionPlanController for Full CRUD API,توسيع متحكم الباقات لـ CRUD كامل,"Add toggle(), updateSortOrder(), setCountryPrices() methods. Verify index, create, store, edit, update, destroy.","إضافة طرق التبديل والترتيب وأسعار الدول للمتحكم.",Phase 13 - Plan API,90,High,To Do
T082,Register Admin Plan Management Routes,تسجيل مسارات إدارة الباقات,"POST toggle, PUT sort, POST prices. API equivalents: /api/admin/subscription-plans/{id}/toggle, etc.","تسجيل مسارات API لإدارة الباقات.",Phase 13 - Plan API,30,High,To Do
T083,Create SendSubscriptionExpiryNotifications Command,إنشاء أمر إشعارات انتهاء الاشتراك,"Command: subscriptions:send-expiry-notifications. For 7d, 3d, 1d thresholds: send push (FCM) + email. Set notified_X_days flags. Skip lifetime. Arabic titles.","إنشاء أمر لإرسال إشعارات انتهاء الاشتراك (دفع + بريد).",Phase 14 - Expiry,90,High,To Do
T084,Create Expiry Notification Email Templates,إنشاء قوالب بريد انتهاء الاشتراك,"Blade templates: subscription-expiry-7days, 3days, 24hours. Include user name, plan name, expiry date, renewal link.","إنشاء قوالب البريد الإلكتروني للإشعارات الثلاثة.",Phase 14 - Expiry,60,High,To Do
T085,Create Laravel Mailable Classes,إنشاء فئات Mailable للإشعارات,"SubscriptionExpiry7Days, SubscriptionExpiry3Days, SubscriptionExpiry24Hours. Accept User + Subscription.","إنشاء فئات Mailable لرسائل انتهاء الاشتراك.",Phase 14 - Expiry,60,High,To Do
T086,Create HandleExpiredSubscriptions Command,إنشاء أمر معالجة الاشتراكات المنتهية,"Command: subscriptions:handle-expired. Find expired subscriptions. If auto_renew: attempt renewal (wallet then Kashier). Else set status=expired.","إنشاء أمر لتجديد أو إنهاء الاشتراكات المنتهية.",Phase 15 - Auto-Renewal,90,High,To Do
T087,Install QR Code Package,تثبيت حزمة QR Code,"composer require simplesoftwareio/simple-qrcode.","تثبيت حزمة إنشاء رمز QR.",Phase 16 - Certificate,15,Medium,To Do
T088,Modify CertificateService for 100% Gate and QR,تعديل خدمة الشهادة لشرط 100% و QR,"Check VideoProgressService::getCourseProgress === 100 before generating. Add QR with URL certificate/verify/{number}. Embed in PDF.","إضافة شرط إكمال 100% ورمز QR للشهادة.",Phase 16 - Certificate,90,Medium,To Do
T089,Create Certificate Verification Endpoint,إنشاء نقطة التحقق من الشهادة,"Route GET /certificate/verify/{number} (public). Return page with course name, student name, completion date.","إنشاء صفحة التحقق من صحة الشهادة عبر QR.",Phase 16 - Certificate,60,Medium,To Do
T090,Register Commands in Scheduler,تسجيل الأوامر في المجدول,"Schedule: subscriptions:send-expiry-notifications, subscriptions:handle-expired, affiliate:release-commissions. All daily.","تسجيل أوامر الاشتراك والعمولات في المجدول اليومي.",Phase 17 - Polish,30,High,To Do
T091,Add referred_by Field to Users Table,إضافة حقل المُحيل لجدول المستخدمين,"Migration: add referred_by (foreignId nullable to users). Update User model: fillable, referrer() relation.","إضافة عمود المُحيل لربط المستخدم بالمسوق بالعمولة.",Phase 17 - Polish,30,High,To Do
T092,Add User Registration Hook for Affiliate Tracking,إضافة ربط التسجيل بالتسويق بالعمولة,"In registration: if referral cookie/session exists, save referred_by on new user.","حفظ المُحيل عند تسجيل مستخدم جديد برابط العمولة.",Phase 17 - Polish,60,High,To Do
T093,Backfill Existing Ratings and Comments with Approved,تحديث التقييمات والمناقشات القديمة بالموافقة,"UPDATE ratings SET status='approved' WHERE status IS NULL. Same for course_discussions.","تعيين الموافقة للتقييمات والتعليقات الموجودة مسبقاً.",Phase 17 - Polish,30,High,To Do
T094,Add commission_rate to Subscription Plan Admin Forms,إضافة نسبة العمولة لنماذج الباقات,"Add Commission Rate (%) input to create.blade.php and edit.blade.php. Save in SubscriptionPlanController.","إضافة حقل نسبة العمولة في نماذج إنشاء وتعديل الباقة.",Phase 17 - Polish,45,High,To Do
T095,Wallet Top-up via Kashier,شحن المحفظة عبر Kashier,"POST /api/wallet/top-up. Create Kashier checkout for deposit. On webhook: credit wallet via WalletService.","إضافة إمكانية شحن المحفظة عبر Kashier.",Phase 17 - Polish,120,High,To Do
T096,Admin Currencies Management UI,واجهة إدارة العملات للأدمن,"Create admin/currencies/index.blade.php. List currencies, update exchange rates, add/remove. CurrencyController. Sidebar link.","إنشاء صفحة إدارة العملات المدعومة في لوحة التحكم.",Phase 17 - Polish,120,Medium,To Do
T097,Add Marketing Pixels Sidebar Link,إضافة رابط البكسل في القائمة الجانبية,"Add link under Settings. Permission: manage_settings.","إضافة رابط إدارة البكسل في القائمة الجانبية.",Phase 17 - Polish,15,Medium,To Do
T098,Final Integration Verification,التحقق النهائي من التكامل,"Verify: feature flags, subscription→commission→withdrawal, pricing→Kashier→activation, 85% progress→certificate, notification commands.","التحقق الشامل من تكامل جميع الميزات.",Phase 17 - Polish,120,High,To Do
T008,Create Subscription Plans Index View,إنشاء صفحة قائمة الباقات,"Create index.blade.php: inline create form (name, cycle, custom days, price, commission, features). Table: plans with toggle, actions. AJAX create/edit/delete.","إنشاء صفحة قائمة الباقات مع نموذج إنشاء وجدول بيانات.",Phase 1 - Plans,120,High,To Do
T009,Create Plan Edit Modal/Form,إنشاء نموذج تعديل الباقة,"Create edit.blade.php. Pre-filled form, dynamic features list, show/hide custom days by billing_cycle.","إنشاء نموذج تعديل الباقة مع قائمة الميزات الديناميكية.",Phase 1 - Plans,90,High,To Do
T010,Create Plan Show/Details View,إنشاء صفحة تفاصيل الباقة,"Create show.blade.php. Plan card, stats (subscribers, revenue), subscribers table with pagination.","إنشاء صفحة تفاصيل الباقة مع إحصائيات والمشتركين.",Phase 1 - Plans,90,High,To Do
T011,Add Subscriptions Section to Sidebar,إضافة قسم الاشتراكات للقائمة الجانبية,"New header 'الاشتراكات'. Menu item 'باقات الاشتراك' → subscription-plans.index. Icon fas fa-gem. @can('subscription-plans-list').","إضافة قسم الاشتراكات ورابط الباقات في القائمة الجانبية.",Phase 1 - Plans,30,High,To Do
T012,Create SubscriptionPlanSeeder,إنشاء بذار الباقات الافتراضية,"5 plans: Monthly (100 EGP, 10%), Quarterly (270, 12%), Semi-Annual (500, 15%), Yearly (900, 20%), Lifetime (2500, 25%). Features JSON.","إنشاء بذار لخمس باقات افتراضية بالعربية.",Phase 1 - Plans,60,High,To Do
T013,Run SubscriptionPlanSeeder,تشغيل بذار الباقات,"Execute php artisan db:seed --class=SubscriptionPlanSeeder.","تشغيل بذار الباقات الافتراضية.",Phase 1 - Plans,15,High,To Do
T014,Add Renew Method to SubscriptionApiController,إضافة طريقة التجديد لـ API الاشتراك,"Add renew() method. Register POST /api/subscription/renew. Validate and process renewal.","إضافة نقطة نهاية تجديد الاشتراك في API.",Phase 1 - Plans,60,High,To Do
